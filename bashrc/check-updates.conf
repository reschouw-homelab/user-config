#!/bin/bash

# https://stackoverflow.com/a/17938274

echo Looking for user-conf updates...

#git --git-dir="$HOME/.config/.git" fetch > /dev/null
LOCAL=$(git --git-dir="$HOME/.config/.git" rev-parse @)
REMOTE=$(git --git-dir="$HOME/.config/.git" rev-parse origin/master)
echo "$LOCAL"
echo "$REMOTE"
if [ "$LOCAL" != "$REMOTE" ]; then
  echo Updates Found! Pulling...
  git --git-dir="$HOME/.config/.git" reset --hard origin/master
  git --git-dir="$HOME/.config/.git" checkout -- "$HOME/.config/"
  "$HOME"/.config/setup.sh
  echo Pulled user-conf updates!
else
  echo No updates found!
fi
